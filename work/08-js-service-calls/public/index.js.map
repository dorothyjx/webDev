{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;AAAO,SAASA,YAAYA,CAAA,EAAG;EAC9B,OAAOC,KAAK,CAAC,cAAc,CAAC,SACtB,CAAC,UAACC,GAAG,EAAK;IACf,OAAOC,OAAO,CAACC,MAAM,CAAC;MAACC,KAAK,EAAE;IAAe,CAAC,CAAC;EAChD,CAAC,CAAC,CACDC,IAAI,CAAC,UAACC,GAAG,EAAK;IACd,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;MACb,OAAOL,OAAO,CAACC,MAAM,CAAC;QAAEC,KAAK,EAAE;MAAe,CAAC,CAAC;IAChD;IACA,OAAOE,GAAG,CAACE,IAAI,EAAE;EAClB,CAAC,CAAC;AACH;AAEO,SAASC,UAAUA,CAACC,QAAQ,EAAE;EACpC,OAAOV,KAAK,CAAC,eAAe,EAAE;IAC7BW,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACR,cAAc,EAAE;IACjB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAE;MAAEL,QAAQ,EAARA;IAAS,CAAC;EACnC,CAAC,CAAC,SACI,CAAE,UAAAT,GAAG;IAAA,OAAIC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAE,CAC1DC,IAAI,CAAE,UAAAW,QAAQ,EAAI;IAClB,IAAG,CAACA,QAAQ,CAACT,EAAE,EAAE;MAChB,OAAOS,QAAQ,CAACR,IAAI,EAAE,CAACH,IAAI,CAAE,UAAAJ,GAAG;QAAA,OAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAAA,EAAE;IAC1D;IACA,OAAOe,QAAQ,CAACR,IAAI,EAAE;EACvB,CAAC,CAAC;AACH;AAEO,SAASS,WAAWA,CAAA,EAAG;EAC7B,OAAOjB,KAAK,CAAC,eAAe,EAAE;IAC7BW,MAAM,EAAE,QAAQ;IAChBC,OAAO,EAAE;MACR,cAAc,EAAE;IACjB;EACD,CAAC,CAAC,SACI,CAAC,UAACX,GAAG;IAAA,OAAKC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAC,CAC1DC,IAAI,CAAE,UAAAC,GAAG,EAAI;IACb,IAAG,CAACA,GAAG,CAACC,EAAE,EAAE;MACX,OAAOD,GAAG,CAACE,IAAI,EAAE,CAACH,IAAI,CAAE,UAAAJ,GAAG;QAAA,OAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAAA,EAAC;IACpD;IACA,OAAOK,GAAG,CAACE,IAAI,EAAE;EAClB,CAAC,CAAC;AACH;AAEO,SAASU,eAAeA,CAACC,IAAI,EAAE;EACrC,OAAOnB,KAAK,CAAC,YAAY,EAAE;IAC1BW,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACR,cAAc,EAAE;IACjB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAE;MAAEI,IAAI,EAAJA;IAAK,CAAC;EAC/B,CAAC,CAAC,SACI,CAAC,UAAClB,GAAG;IAAA,OAAKC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAC,CAC1DC,IAAI,CAAE,UAAAC,GAAG,EAAI;IACb,IAAG,CAACA,GAAG,CAACC,EAAE,EAAE;MACX,OAAOS,QAAQ,CAACR,IAAI,EAAE,CAACH,IAAI,CAAE,UAAAJ,GAAG;QAAA,OAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAAA,EAAE;IAC1D;IACA,OAAOK,GAAG,CAACE,IAAI,EAAE;EAClB,CAAC,CAAC;AACH;AAEO,SAASY,OAAOA,CAAA,EAAG;EACzB,OAAOpB,KAAK,CAAC,YAAY,CAAC,SACpB,CAAC,UAACC,GAAG;IAAA,OAAKC,OAAO,CAACC,MAAM,CAAC;MAAEC,KAAK,EAAE;IAAgB,CAAC,CAAC;EAAA,EAAC,CAC1DC,IAAI,CAAE,UAAAC,GAAG,EAAI;IACb,IAAG,CAACA,GAAG,CAACC,EAAE,EAAE;MACX,OAAOS,QAAQ,CAACR,IAAI,EAAE,CAACH,IAAI,CAAE,UAAAJ,GAAG;QAAA,OAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;MAAA,EAAE;IAC1D;IACA,OAAOK,GAAG,CAACE,IAAI,EAAE;EAClB,CAAC,CAAC;AACH;;;;;;;;;;;;;;ACxEA,IAAMa,OAAO,GAAG;EACfX,QAAQ,EAAE,EAAE;EACZS,IAAI,EAAE,EAAE;EACRG,UAAU,EAAE,KAAK;EACjBC,MAAM,EAAE;AACT,CAAC;AAED,iEAAeF,OAAO;;;;;;;;;;;;;;;;;;;ACPa;AAC4C;AAExE,SAASG,aAAaA,CAAA,EAAG;EAC/B,IAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC1CF,GAAG,CAACG,gBAAgB,CAAC,QAAQ,EAAE,UAAAC,CAAC,EAAI;IACnCA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAGD,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,OAAO,CAAC,EAAE;MACxCC,SAAS,EAAE;MACX;IACD;IACA,IAAGL,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAE;MAC9CE,UAAU,EAAE;MACZ;IACD;IACA,IAAGN,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;MACzCG,UAAU,EAAE;MACZ;IACD;EACD,CAAC,CAAC;AACH;AAEO,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;EAC9B,IAAGhB,8DAAkB,KAAK,KAAK,EAAE;IAChCiB,QAAQ,EAAE;IACV;EACD;EACAC,OAAO,EAAE;AACV,CAAC;AAEM,SAASD,QAAQA,CAAA,EAAG;EAC1B,IAAMb,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC1CF,GAAG,CAACe,SAAS,ySAAAC,MAAA,CAQQpB,0DAAc,yBAElC;AACF;AAEO,SAASkB,OAAOA,CAAA,EAAG;EACzB,IAAMd,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC1CF,GAAG,CAACe,SAAS,yDAAAC,MAAA,CAEGpB,4DAAgB,iFAAAoB,MAAA,CAELpB,wDAAY,6MAAAoB,MAAA,CAOhCpB,0DAAc,0HAMpB;AACF;AAEA,IAAMa,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;EACvB,IAAMxB,QAAQ,GAAGgB,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC,CAACe,KAAK;EAC1DjC,qDAAU,CAACC,QAAQ,CAAC,CACnBL,IAAI,CAACe,8CAAO,CAAC,CACbf,IAAI,CAAC,UAAAsC,IAAA,EAAkB;IAAA,IAAhBC,UAAU,GAAAD,IAAA,CAAVC,UAAU;IACjBvB,4DAAgB,GAAGX,QAAQ;IAC3BW,8DAAkB,GAAG,IAAI;IACzBA,wDAAY,GAAGuB,UAAU;IACzBvB,0DAAc,GAAG,EAAE;IACnBgB,SAAS,EAAE;EACZ,CAAC,CAAC,SACI,CAAC,UAACjC,KAAK,EAAK;IACjBiB,0DAAc,GAAG,kBAAkB;IACnCgB,SAAS,EAAE;EACZ,CAAC,CAAC;AACH,CAAC;AAED,IAAMD,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EACxBnB,sDAAW,EAAE,CACZZ,IAAI,CAAC,YAAM;IACXgB,8DAAkB,GAAG,KAAK;IAC1BA,wDAAY,GAAG,EAAE;IACjBA,0DAAc,GAAG,EAAE;IACnBgB,SAAS,EAAE;EACZ,CAAC,CAAC;AACH,CAAC;AAED,IAAMF,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EACxB,IAAMhB,IAAI,GAAGO,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC,CAACe,KAAK;EACpDxB,0DAAe,CAACC,IAAI,CAAC,CACpBd,IAAI,CAAE,UAAAwC,KAAA,EAAkB;IAAA,IAAhBD,UAAU,GAAAC,KAAA,CAAVD,UAAU;IAClBvB,8DAAkB,GAAG,IAAI;IACzBA,wDAAY,GAAGuB,UAAU;IACzBP,SAAS,EAAE;EACZ,CAAC,CAAC,SACI,CAAC,UAACjC,KAAK,EAAK;IACjBiB,0DAAc,GAAG,oBAAoB;IACrCgB,SAAS,EAAE;EACZ,CAAC,CAAC;AACH,CAAC;;;;;;UC1GD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNY;;AACuB;AACgB;AACI;AAEvDb,yDAAa,EAAE;AAEfzB,uDAAY,EAAE,CACbM,IAAI,CAACe,8CAAO,CAAC,CACbf,IAAI,CAAE,UAAAsC,IAAA,EAAmB;EAAA,IAAjBC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAClBvB,8DAAkB,GAAG,IAAI;EACzBA,wDAAY,GAAGuB,UAAU;EACzBP,qDAAS,EAAE;AACZ,CAAC,CAAC,SACI,CAAC,YAAM;EACZA,qDAAS,EAAE;AACZ,CAAC,CAAC,C","sources":["webpack://08-js-service-calls/./src/fetch.js","webpack://08-js-service-calls/./src/storage.js","webpack://08-js-service-calls/./src/submit.js","webpack://08-js-service-calls/webpack/bootstrap","webpack://08-js-service-calls/webpack/runtime/define property getters","webpack://08-js-service-calls/webpack/runtime/hasOwnProperty shorthand","webpack://08-js-service-calls/webpack/runtime/make namespace object","webpack://08-js-service-calls/./src/index.js"],"sourcesContent":["export function fetchSession() {\n\treturn fetch(\"/api/session\")\n\t.catch((err) => {\n\t\treturn Promise.reject({error: \"network-error\"});\n\t})\n\t.then((res) => {\n\t\tif (!res.ok) {\n\t\treturn Promise.reject({ error: \"Invalid User\" });\n\t\t}\n\t\treturn res.json();\n\t})\n}\n\nexport function fetchLogin(username) {\n\treturn fetch('/api/session/', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'content-type': 'application/json', \n\t\t},\n\t\tbody: JSON.stringify( { username } ),\n\t})\n\t.catch( err => Promise.reject({ error: 'network-error' }) )\n\t.then( response => {\n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( err => Promise.reject(err) );\n\t\t}\n\t\treturn response.json(); \n\t});\n}\n\nexport function fetchLogout() {\n\treturn fetch('/api/session/', {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\t'content-type': 'application/json', \n\t\t},\n\t})\n\t.catch((err) => Promise.reject({ error: \"network-error\" }))\n\t.then( res => {\n\t\tif(!res.ok) {\n\t\t\treturn res.json().then( err => Promise.reject(err));\n\t\t}\n\t\treturn res.json();\n\t})\n}\n\nexport function fetchUpdateWord(word) {\n\treturn fetch('/api/word/', {\n\t\tmethod: 'PUT',\n\t\theaders: {\n\t\t\t'content-type': 'application/json', \n\t\t},\n\t\tbody: JSON.stringify( { word } ),\n\t})\n\t.catch((err) => Promise.reject({ error: \"network-error\" }))\n\t.then( res => {\n\t\tif(!res.ok) {\n\t\t\treturn response.json().then( err => Promise.reject(err) );\n\t\t}\n\t\treturn res.json();\n\t})\n}\n\nexport function getWord() {\n\treturn fetch('/api/word/')\n\t.catch((err) => Promise.reject({ error: \"network-error\" }))\n\t.then( res => {\n\t\tif(!res.ok) {\n\t\t\treturn response.json().then( err => Promise.reject(err) );\n\t\t}\n\t\treturn res.json();\n\t})\n}","const storage = {\n\tusername: \"\",\n\tword: \"\",\n\tisLoggedIn: false,\n\terrMsg: \"\",\n};\n\nexport default storage;","import storage from \"./storage.js\";\nimport { fetchLogin, fetchLogout, fetchUpdateWord, getWord } from \"./fetch.js\";\n\nexport function submitHandler() {\n\tconst app = document.querySelector(\"#app\");\n\tapp.addEventListener(\"submit\", e => {\n\t\te.preventDefault();\n\t\tif(e.target.classList.contains(\"login\")) {\n\t\t\tuserLogin();\n\t\t\treturn;\n\t\t}\n\t\tif(e.target.classList.contains(\"update-word\")) {\n\t\t\tupdateWord();\n\t\t\treturn;\n\t\t}\n\t\tif(e.target.classList.contains(\"logout\")) {\n\t\t\tuserLogout();\n\t\t\treturn;\n\t\t}\n\t});\n}\n\nexport const webRender = () => {\n\tif(storage.isLoggedIn === false) {\n\t\tloginWeb();\n\t\treturn;\n\t}\n\twordWeb();\n}\n\nexport function loginWeb() {\n\tconst app = document.querySelector(\"#app\");\n\tapp.innerHTML = `\n\t\t<div class=\"login-card\">\n\t\t\t<form class=\"login\">\n\t\t\t\t<label>Type Your Username</label>\n\t\t\t\t<input type=\"text\" name=\"username\" placeholder=\"Username\" class=\"username\"/>\n\t\t\t\t<button type=\"submit\">Login</button>\n\t\t\t</form>\n\n\t\t\t<p class=\"error\">${storage.errMsg}</p>\n\t\t</div>\n\t`\n}\n\nexport function wordWeb() {\n\tconst app = document.querySelector(\"#app\");\n\tapp.innerHTML = `\n\t\t<div class=\"word-card\">\n\t\t\t<span>User: ${storage.username}</span>\n\t\t\t<form class=\"update-word\">\n\t\t\t\t<p>You Previous Word: ${storage.word}</p>\n\t\t\t\t\n\t\t\t\t<label>Type Your NEW Word</label>\n\t\t\t\t<input type=\"text\" name=\"word\" class=\"update\" /> \n\t\t\t\t<button type=\"submit\">Update</button>\n\t\t\t</form>\n\n\t\t\t<p>${storage.errMsg}</p>\n\n\t\t\t<form class=\"logout\">\n\t\t\t\t<button type=\"submit\">Logout</button>\n\t\t\t</form>\n\t\t</div>\n\t`\n}\n\nconst userLogin = () => {\n\tconst username = document.querySelector(\".username\").value;\n\tfetchLogin(username)\n\t.then(getWord)\n\t.then(({storedWord}) => {\n\t\tstorage.username = username;\n\t\tstorage.isLoggedIn = true;\n\t\tstorage.word = storedWord;\n\t\tstorage.errMsg = \"\";\n\t\twebRender();\n\t})\n\t.catch((error) => {\n\t\tstorage.errMsg = \"Invalid Username\";\n\t\twebRender();\n\t});\n};\n\nconst userLogout = () => {\n\tfetchLogout()\n\t.then(() => {\n\t\tstorage.isLoggedIn = false;\n\t\tstorage.word = \"\";\n\t\tstorage.errMsg = \"\";\n\t\twebRender();\n\t});\n};\n\nconst updateWord = () => {\n\tconst word = document.querySelector(\".update\").value; \n\tfetchUpdateWord(word) \n\t.then( ({storedWord}) => {\n\t\tstorage.isLoggedIn = true;\n\t\tstorage.word = storedWord;\n\t\twebRender();\n\t})\n\t.catch((error) => {\n\t\tstorage.errMsg = \"Cannot Update Word\";\n\t\twebRender();\n\t})\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\"\nimport storage from \"./storage.js\";\nimport { fetchSession, getWord } from \"./fetch.js\";\nimport { submitHandler, webRender } from \"./submit.js\";\n\nsubmitHandler();\n\nfetchSession()\n.then(getWord) \n.then( ({storedWord})  => {\n\tstorage.isLoggedIn = true;\n\tstorage.word = storedWord;\n\twebRender();\n})\n.catch(() => {\n\twebRender();\n});"],"names":["fetchSession","fetch","err","Promise","reject","error","then","res","ok","json","fetchLogin","username","method","headers","body","JSON","stringify","response","fetchLogout","fetchUpdateWord","word","getWord","storage","isLoggedIn","errMsg","submitHandler","app","document","querySelector","addEventListener","e","preventDefault","target","classList","contains","userLogin","updateWord","userLogout","webRender","loginWeb","wordWeb","innerHTML","concat","value","_ref","storedWord","_ref2"],"sourceRoot":""}